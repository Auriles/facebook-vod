// import React from 'react';
// import ReactDOM from 'react-dom';
// import './index.css';
// import FacebookVod from './FacebookVod';
// import Display from './components/Display';
// import Callback from './components/Callback';
// import { Router, Route, browserHistory } from 'react-router';
// import { requireAuth } from './utils/AuthService';



// const MOVIES = [
//   { category: 'Action', preorder: '27/01/2018', newRelease: 'YES', topPicks: 'NO', title: 'Batman V Superman', lastChance: '27/04/2018', image: <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAANlBMVEXMzMzPz8+RkZHLy8uTk5OWlpbDw8PIyMidnZ3GxsbBwcG1tbWYmJi6urqioqKwsLCoqKixsbFgFY5SAAADNUlEQVR4nO3XyZbjKgyAYTNjzJT3f9kWOHFcU/reRaW9+L9Fyqkj5yALBF4WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL9KiZeXL+5TX4P/et/blW5dTWZcri3b7ud/TYu6phe3qdSzjZv5HFyizcX87pD/n5J1jNaVcR11jjrO4TXt5NuLFNdsc3S6fQouzkbntt8f93+mst3WtegaFlV092u3m8yylGsKm60/TjjVpdpryiOvU3CoNq3JxvWdObzmZxVUc34JMQaZcVU+TddejdocI70vriPjNY5aqyLP4xQsD0mez/55Fftg1CaDTLmPy5aLCtWNy+Ju95GGdpPsF397zL89eFnl9lOwVHYs4zX/XPy3C2mMXPXsVcnzyScpyxr38e9/hjiLU4/iBD/KO2t4ClZjAsg86O46GQ4+NduNjHb2ilEWn9sYYnhmmJw1Y6Geu+SatlzX5RSsct8ztJfKUGlro5eZOmfYYnRTfrabxcT6CDLNNlNlAp/uq3JjUsspWLl+78TvTeEvRob5ZmQthv1rk/4zdw+ZdEfNUo7d9Q/3RblRapaewWrfPdRt/6nLUGZzsg6fNVy+1nCU2LqP41aqRLepb2t4qT1/GZ1GJ0lhrsMw1uHeREM890Rn++fVJSuznYNlHY7UZEpfZx2WMutSdJF2P2fb971UTmmyWp/j9tvcKoMU/EMvrePnwoV6qepuP2yd9kM39sM8hlhcO0YaYo72dty37ftGmPvhESw/N/fDGK+T4TYX0eNMM6ZYlb4qx5RRi6afB9PN9ZKjf3y9P477meYRLImXcaax7TIZyu4XvZJmMWZXk+HKXB0NUz7lvzkfcSHKoaw/iyglLWqUL30I9jnK+S66V28lbybnLBfHC8946FnnqveG2eflsf2ppqVmwR5vG1InG6vdi3UKlo5bnW3/IJMfhRZlrLPHLEkGV/esQpe3qu3o+avOfub5bK5blBelPZVTcJBXzNyutRua1fvHK0TwPhyX6fQKFJI3889p+q0SYb4EG+/91TZDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfOsP4lsa8TKp1xgAAAAASUVORK5CYII="/> },
//   { category: 'Action', preorder: '29/02/2018', newRelease: 'YES', topPicks: 'NO', title: 'The Green Arrow', lastChance: '29/05/2018' },
//   { category: 'Action', preorder: '12/04/2018', newRelease: 'YES', topPicks: 'YES', title: 'Batman Begins', lastChance: '12/07/2018' },
//   { category: 'Action', preorder: '10/06/2018', newRelease: 'YES', topPicks: 'YES', title: 'Supergirl', lastChance: '10/09/2018' },
//   { category: 'Action', preorder: '09/07/2018', newRelease: 'YES', topPicks: 'NO', title: 'Superman', lastChance: '09/10/2018' },
//   { category: 'Action', preorder: '04/09/2018', newRelease: 'YES', topPicks: 'YES', title: 'Spiderman', lastChance: '04/12/2018' },
//   { category: 'Combat', preorder: '23/11/2018', newRelease: 'NO', topPicks: 'NO', title: 'Fight Club', lastChance: '23/02/2019' },
//   { category: 'Combat', preorder: '21/11/2018', newRelease: 'NO', topPicks: 'NO', title: 'Never Back Down', lastChance: '21/03/2019' },
//   { category: 'Combat', preorder: '15/02/2018', newRelease: 'NO', topPicks: 'YES', title: 'Kill Bill', lastChance: '15/05/2018' },
//   { category: 'Mangas', preorder: '18/05/2018', newRelease: 'NO', topPicks: 'NO', title: 'Death Note', lastChance: '18/08/2018' },
//   { category: 'Mangas', preorder: '19/08/2018', newRelease: 'YES', topPicks: 'YES', title: 'Naruto', lastChance: '19/11/2018' },
//   { category: 'Mangas', preorder: '22/03/2018', newRelease: 'NO', topPicks: 'NO', title: 'DragonBall Z - La saga Cell', lastChance: '22/06/2018' },
//   { category: 'Enfants', preorder: '02/03/2018', newRelease: 'YES', topPicks: 'YES', title: 'Pokémon - Le retour de Mewtwo', lastChance: '02/06/2018' },
//   { category: 'Enfants', preorder: '30/01/2019', newRelease: 'NO', topPicks: 'NO', title: 'Le monde de Némo', lastChance: '30/04/2019' },
// ];

// ReactDOM.render(
//   <FacebookVod movies={MOVIES} />,
//   document.getElementById('root')
// );




import React, { Component } from 'react';
import '../FacebookVod.css';


// -------------------------------------

class FacebookVod extends React.Component {
  render() {
    return (
      <div>
        <MovieTable movies={this.props.movies} />
      </div>
    )
  }
}

class MovieTable extends React.Component {
  render() {

    const rows = [];
    let lastCategory = null;

    this.props.movies.forEach((movie) => {
      if (movie.category !== lastCategory) {
        rows.push(
          <MovieCategoryRow
            category={movie.category}
            key={movie.category} />
        );
      }
      rows.push(
        <MovieRow
          movie={movie}
          key={movie.title} />
      );
      lastCategory = movie.category;
    });

    return (
      <table className="movieTable">
        <thead>
          <tr className="">
            <th className="">Title</th>
            <th>New Releases</th>
            <th>Top Picks</th>
            <th>Preorder</th>
            <th>Last chance</th>
          </tr>
        </thead>
        <tbody>{rows}</tbody>
      </table>
    );
  }
}

// -------------------------------------

class MovieRow extends React.Component {
  render() {
    const movie = this.props.movie;
    const title = movie.newRelease === 'NO' ? movie.title : <span style={{ color: 'green' }}> {movie.title} </span>;

    return (
      <tr className="">
        <td>{title}</td>
        <td>{movie.newRelease}</td>
        <td>{movie.topPicks}</td>
        <td>{movie.preorder}</td>
        <td>{movie.lastChance}</td>
        <td>{movie.image}</td>
      </tr>
    );
  }
}

// -------------------------------------

class MovieCategoryRow extends React.Component {
  render() {
    const category = this.props.category;
    return (
      <tr>
        <th colSpan="2">
          {category}
        </th>
      </tr>
    );
  }
}

// -------------------------------------

export default FacebookVod;

onEnter={requireAuth}



'https://api.themoviedb.org/3/movie/popular?api_key=62903433da4304fcd4c249e07f22c550&language=en-US&page=1'
https://api.themoviedb.org/3/movie/latest?api_key=62903433da4304fcd4c249e07f22c550&language=en-US&page=1









{/* <div>
          {this.state.movie.map(movie =>
            <div className="">
              <div className="">
                <img className="" src={`https://image.tmdb.org/t/p/w185_and_h278_bestv2/${movie.poster_path}`} alt={movie.title} />
                <div className="" key={movie.id}>
                  Titre : {movie.title} <br/>
                  Description : {movie.overview} <br/>
                  Date de sortie : {movie.release_date} <br/>
                  Note globale du film : {movie.vote_average} / 10
                </div>
              </div>
            </div>
          )}
        </div> */}